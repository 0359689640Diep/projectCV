{"ast":null,"code":"import classNames from\"classnames/bind\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import styles from\"./Home.module.scss\";import Message from\"./Message\";import{getMessage}from\"../../../Services/message\";import Notification from\"../../../components/Notification\";import{jsx as _jsx}from\"react/jsx-runtime\";const cx=classNames.bind(styles);function Home(){const[data,setData]=useState([]);const navigate=useNavigate();// Call API\nconst fetchAPI=async()=>{try{const result=await getMessage();if(result.status===403){Notification(result.data.message,\"warning\");navigate(\"/login\");}else{setData(result.dataMessage);}}catch(error){Notification(\"no data\",\"warning\");}};useEffect(()=>{// Call the API when the component mounts\nfetchAPI();},[]);// săp xếp mảng\nif(data){data.sort((a,b)=>{if(a.Status===0&&b.Status!==0){return-1;// a lên trên b\n}else if(a.Status!==0&&b.Status===0){return 1;// b lên trên a\n}else{return 0;// giữ nguyên vị trí của a và b\n}});}return/*#__PURE__*/_jsx(\"section\",{className:cx(\"listMessage\"),children:data?data.map(item=>/*#__PURE__*/_jsx(Message,{item:item,callAPi:fetchAPI},item._id)):\"\"});}export default Home;","map":{"version":3,"names":["classNames","useState","useEffect","useNavigate","styles","Message","getMessage","Notification","jsx","_jsx","cx","bind","Home","data","setData","navigate","fetchAPI","result","status","message","dataMessage","error","sort","a","b","Status","className","children","map","item","callAPi","_id"],"sources":["D:/FPT Polytechnic/ListProject/projectCV/Project_MyCV/fontend/src/pages/admin/Home/index.js"],"sourcesContent":["import classNames from \"classnames/bind\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport styles from \"./Home.module.scss\";\r\n    import Message from \"./Message\";\r\nimport { getMessage } from \"../../../Services/message\";\r\nimport Notification from \"../../../components/Notification\";\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nfunction Home() {\r\n    const [data, setData] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    // Call API\r\n    const fetchAPI = async () => {\r\n        try {\r\n            const result = await getMessage();\r\n             if(result.status === 403){\r\n                Notification(result.data.message, \"warning\");   \r\n                navigate(\"/login\");\r\n            }else{\r\n                setData(result.dataMessage);\r\n            }\r\n        } catch (error) {\r\n            Notification(\"no data\", \"warning\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Call the API when the component mounts\r\n        fetchAPI();\r\n    }, []);    \r\n\r\n    // săp xếp mảng\r\n    if(data){\r\n        data.sort((a, b) => {\r\n            if (a.Status === 0 && b.Status !== 0) {\r\n                return -1; // a lên trên b\r\n            } else if (a.Status !== 0 && b.Status === 0) {\r\n                return 1; // b lên trên a\r\n            } else {\r\n                return 0; // giữ nguyên vị trí của a và b\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <section className={cx(\"listMessage\")}>\r\n            {data ? \r\n                data.map((item) => (\r\n                <Message key={item._id} item={item} callAPi={fetchAPI}/>\r\n            )) \r\n            : \"\"\r\n            }\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":"AAAA,MAAO,CAAAA,UAAU,KAAM,iBAAiB,CACxC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,MAAO,CAAAC,MAAM,KAAM,oBAAoB,CACnC,MAAO,CAAAC,OAAO,KAAM,WAAW,CACnC,OAASC,UAAU,KAAQ,2BAA2B,CACtD,MAAO,CAAAC,YAAY,KAAM,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,KAAM,CAAAC,EAAE,CAAGV,UAAU,CAACW,IAAI,CAACP,MAAM,CAAC,CAElC,QAAS,CAAAQ,IAAIA,CAAA,CAAG,CACZ,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAAAc,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAa,QAAQ,CAAG,KAAAA,CAAA,GAAY,CACzB,GAAI,CACA,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAX,UAAU,CAAC,CAAC,CAChC,GAAGW,MAAM,CAACC,MAAM,GAAK,GAAG,CAAC,CACtBX,YAAY,CAACU,MAAM,CAACJ,IAAI,CAACM,OAAO,CAAE,SAAS,CAAC,CAC5CJ,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAC,IAAI,CACDD,OAAO,CAACG,MAAM,CAACG,WAAW,CAAC,CAC/B,CACJ,CAAE,MAAOC,KAAK,CAAE,CACZd,YAAY,CAAC,SAAS,CAAE,SAAS,CAAC,CACtC,CACJ,CAAC,CAEDL,SAAS,CAAC,IAAM,CACZ;AACAc,QAAQ,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,GAAGH,IAAI,CAAC,CACJA,IAAI,CAACS,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CAChB,GAAID,CAAC,CAACE,MAAM,GAAK,CAAC,EAAID,CAAC,CAACC,MAAM,GAAK,CAAC,CAAE,CAClC,MAAO,CAAC,CAAC,CAAE;AACf,CAAC,IAAM,IAAIF,CAAC,CAACE,MAAM,GAAK,CAAC,EAAID,CAAC,CAACC,MAAM,GAAK,CAAC,CAAE,CACzC,MAAO,EAAC,CAAE;AACd,CAAC,IAAM,CACH,MAAO,EAAC,CAAE;AACd,CACJ,CAAC,CAAC,CACN,CAEA,mBACIhB,IAAA,YAASiB,SAAS,CAAEhB,EAAE,CAAC,aAAa,CAAE,CAAAiB,QAAA,CACjCd,IAAI,CACDA,IAAI,CAACe,GAAG,CAAEC,IAAI,eACdpB,IAAA,CAACJ,OAAO,EAAgBwB,IAAI,CAAEA,IAAK,CAACC,OAAO,CAAEd,QAAS,EAAxCa,IAAI,CAACE,GAAoC,CAC1D,CAAC,CACA,EAAE,CAEC,CAAC,CAElB,CAEA,cAAe,CAAAnB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}