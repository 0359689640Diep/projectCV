{"ast":null,"code":"import classNames from\"classnames/bind\";import{useState}from\"react\";import styles from\"./Home.module.scss\";import Input from\"../../../components/Input\";import Button from\"../../../components/Button\";import{updateStatusMessage,deleteEmail,replyGmail}from\"../../../Services/message\";import Notification from\"../../../components/Notification\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const cx=classNames.bind(styles);function Message(_ref){let{item,callAPi}=_ref;const[display,setDisplay]=useState(false);const[reply,setReply]=useState(\"\");const handleDisplay=()=>{setDisplay(!display);};const handleLogId=id=>{try{updateStatusMessage(id);}catch(error){console.log(error);}};const handleRemoteEmail=async id=>{try{const result=await deleteEmail(id);Notification(result.data.message,\"success\");callAPi();}catch(error){console.log(error);Notification(\"The system is maintenance\",\"error\");}};const handleReplyEmail=async id=>{try{const result=await replyGmail({\"ReplyMessage\":reply},id);if(result.Status>=400){Notification(result.data.message,\"warning\");}else{Notification(result.data.message,\"success\");setReply(\"\");callAPi();}}catch(error){Notification(\"The system is maintenance\",\"error\");console.log(error);}};return/*#__PURE__*/_jsxs(\"section\",{className:cx(\"message\"),id:item._id,onClick:()=>handleLogId(item._id),children:[/*#__PURE__*/_jsxs(\"article\",{className:cx(\"title\"),onClick:handleDisplay,style:{color:item.Status===0?\"#fdfeff\":\"\"},children:[/*#__PURE__*/_jsx(\"p\",{className:cx(\"nameTitle\"),children:item.NameUserReceiver}),/*#__PURE__*/_jsx(\"h1\",{className:cx(\"titleMessage\"),children:item.TitleMessage}),/*#__PURE__*/_jsx(\"i\",{className:cx(\"bi bi-trash3\",\"remote\"),onClick:()=>handleRemoteEmail(item._id)})]}),/*#__PURE__*/_jsxs(\"section\",{className:cx(\"container\"),style:{display:display?\"block\":\"none\"},children:[/*#__PURE__*/_jsx(\"article\",{className:cx(\"itemTilteMessage\"),children:/*#__PURE__*/_jsx(\"h1\",{children:item.TitleMessage})}),/*#__PURE__*/_jsxs(\"article\",{className:cx(\"itemAccountReceiver\"),children:[/*#__PURE__*/_jsx(\"span\",{children:item.NameUserReceiver}),/*#__PURE__*/_jsx(\"p\",{children:item.EmailReceiver})]}),/*#__PURE__*/_jsx(\"article\",{className:cx(\"itemContentMessage\"),children:/*#__PURE__*/_jsx(\"p\",{children:item.Content})}),/*#__PURE__*/_jsx(\"article\",{className:cx(\"itemReplyMessage\"),children:/*#__PURE__*/_jsx(\"p\",{children:item.ReplyMessage})}),/*#__PURE__*/_jsxs(\"article\",{className:cx(\"itemButtonReplyMessage\"),children:[/*#__PURE__*/_jsx(Input,{name:\"Reply The Message\",type:\"text\",required:true,value:reply,onFocus:()=>{},id:\"itemReplyMessage-\".concat(item._id),onChange:e=>setReply(e.target.value)}),/*#__PURE__*/_jsx(Button,{name:\"Send Message\",width:\"15%\",height:\"10%\",padding:\"1%\",onClick:()=>handleReplyEmail(item._id)})]})]})]});}export default Message;","map":{"version":3,"names":["classNames","useState","styles","Input","Button","updateStatusMessage","deleteEmail","replyGmail","Notification","jsx","_jsx","jsxs","_jsxs","cx","bind","Message","_ref","item","callAPi","display","setDisplay","reply","setReply","handleDisplay","handleLogId","id","error","console","log","handleRemoteEmail","result","data","message","handleReplyEmail","Status","className","_id","onClick","children","style","color","NameUserReceiver","TitleMessage","EmailReceiver","Content","ReplyMessage","name","type","required","value","onFocus","concat","onChange","e","target","width","height","padding"],"sources":["D:/FPT Polytechnic/ListProject/projectCV/Project_MyCV/fontend/src/pages/admin/Home/Message.js"],"sourcesContent":["import classNames from \"classnames/bind\";\r\nimport { useState } from \"react\";\r\n\r\nimport styles from \"./Home.module.scss\";\r\nimport Input from \"../../../components/Input\";\r\nimport Button from \"../../../components/Button\";\r\nimport { updateStatusMessage, deleteEmail, replyGmail } from \"../../../Services/message\";\r\nimport Notification from \"../../../components/Notification\";\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nfunction Message({item, callAPi}) {\r\n\r\n    const [display, setDisplay] = useState(false);\r\n    const [reply, setReply] = useState(\"\");\r\n\r\n    const handleDisplay = () => {\r\n        setDisplay(!display);\r\n    };\r\n\r\n    const handleLogId = (id) => {\r\n        try {\r\n            updateStatusMessage(id);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n    const handleRemoteEmail = async (id) => {\r\n        try {\r\n            const result = await deleteEmail(id);\r\n            Notification(result.data.message, \"success\");\r\n            callAPi();\r\n        } catch (error) {\r\n            console.log(error);\r\n            Notification(\"The system is maintenance\", \"error\");\r\n        }\r\n    };\r\n\r\n\r\n    const handleReplyEmail = async (id) =>{\r\n        try {\r\n            const result = await replyGmail({\"ReplyMessage\": reply}, id);   \r\n            if(result.Status >= 400){\r\n                Notification(result.data.message, \"warning\");\r\n            }else{\r\n                Notification(result.data.message, \"success\");\r\n                setReply(\"\");\r\n                callAPi();\r\n            }\r\n        } catch (error) {\r\n            Notification(\"The system is maintenance\", \"error\");            \r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    return ( \r\n        <section className={cx(\"message\")}  id={item._id} onClick={() => handleLogId(item._id)}>\r\n            <article className={cx(\"title\")} onClick={handleDisplay} \r\n                style={{color: item.Status === 0 ? \"#fdfeff\" : \"\"}}>\r\n                <p className={cx(\"nameTitle\")}>{item.NameUserReceiver}</p>\r\n                <h1 className={cx(\"titleMessage\")}>{item.TitleMessage}</h1>\r\n                <i className={cx(\"bi bi-trash3\", \"remote\")} onClick={() => handleRemoteEmail(item._id)}></i>\r\n            </article>\r\n            <section\r\n                className={cx(\"container\")}\r\n                style={{ display: display ? \"block\" : \"none\" }}\r\n            >\r\n                <article className={cx(\"itemTilteMessage\")}>\r\n                    <h1>{item.TitleMessage}</h1>\r\n                </article>\r\n                <article className={cx(\"itemAccountReceiver\")}>\r\n                    <span>{item.NameUserReceiver}</span>\r\n                    <p>{item.EmailReceiver}</p>\r\n                </article>\r\n                <article className={cx(\"itemContentMessage\")}>\r\n                    <p>{item.Content}</p>\r\n                </article>\r\n                <article className={cx(\"itemReplyMessage\")}>\r\n                    <p>{item.ReplyMessage}</p>   \r\n                </article>\r\n                <article  className={cx(\"itemButtonReplyMessage\")}>\r\n                    <Input\r\n                        name=\"Reply The Message\"\r\n                        type=\"text\"\r\n                        required\r\n                        value={reply}\r\n                        onFocus={() => {}}\r\n                        id={`itemReplyMessage-${item._id}`}\r\n                        onChange={(e) => setReply(e.target.value)}\r\n                    />\r\n                    <Button\r\n                        name=\"Send Message\"\r\n                        width=\"15%\"\r\n                        height=\"10%\"\r\n                        padding=\"1%\"\r\n                        onClick={() => handleReplyEmail(item._id)}\r\n                    />\r\n                </article>\r\n            </section>\r\n        </section>        \r\n    );\r\n}\r\n\r\nexport default Message;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}