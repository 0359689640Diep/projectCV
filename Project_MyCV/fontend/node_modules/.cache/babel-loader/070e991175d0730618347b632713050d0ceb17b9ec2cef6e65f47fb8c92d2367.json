{"ast":null,"code":"import className from\"classnames/bind\";import{useState}from\"react\";import styles from\"./Login.module.scss\";import{images}from\"../../../asset/img\";import Input from\"../../../components/Input\";import Button from\"../../../components/Button\";import{singIn}from\"../../../Services/account\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const cx=className.bind(styles);function Login(){const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const handleLogin=async e=>{e.preventDefault();try{const response=await singIn({email,password});if(response.status>=400){toast.warning(response.data.message);return;}localStorage.setItem(\"accessToken\",response.data.accessToken);const userJson=JSON.stringify(response.data.user);localStorage.setItem(\"user\",userJson);toast.success(response.data.message);window.location.replace(\"/admin\");}catch(error){console.log(error);toast.error(\"500 Server not found\");}};return/*#__PURE__*/_jsx(\"main\",{className:cx(\"loginMain\"),children:/*#__PURE__*/_jsxs(\"section\",{className:cx(\"container\"),children:[/*#__PURE__*/_jsx(\"article\",{className:cx(\"images\"),children:/*#__PURE__*/_jsx(\"img\",{src:images.Lovlyze,alt:\"lovlyze\"})}),/*#__PURE__*/_jsx(\"section\",{className:cx(\"content\"),children:/*#__PURE__*/_jsxs(\"form\",{action:\"/login\",method:\"post\",children:[/*#__PURE__*/_jsx(Input,{name:\"Gmail\",type:\"email\",required:true,title:\"gmail cannot be empty\",id:\"email\",onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(Input,{name:\"Password\",type:\"password\",required:true,title:\"password cannot be empty\",id:\"password\",Icons:true,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(Button,{name:\"Login\",onClick:handleLogin,width:\"30%\",height:\"15%\",margin:\"4% 35%\"})]})})]})});}export default Login;","map":{"version":3,"names":["className","useState","styles","images","Input","Button","singIn","toast","jsx","_jsx","jsxs","_jsxs","cx","bind","Login","email","setEmail","password","setPassword","handleLogin","e","preventDefault","response","status","warning","data","message","localStorage","setItem","accessToken","userJson","JSON","stringify","user","success","window","location","replace","error","console","log","children","src","Lovlyze","alt","action","method","name","type","required","title","id","onChange","target","value","Icons","onClick","width","height","margin"],"sources":["D:/FPT Polytechnic/ListProject/projectCV/Project_MyCV/fontend/src/pages/user/Login/index.js"],"sourcesContent":["import className from \"classnames/bind\";\r\nimport { useState } from \"react\";\r\n\r\nimport styles from \"./Login.module.scss\";\r\nimport { images } from \"../../../asset/img\";\r\nimport Input from \"../../../components/Input\";\r\nimport Button from \"../../../components/Button\";\r\nimport { singIn } from \"../../../Services/account\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst cx = className.bind(styles);\r\n\r\nfunction Login() {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await singIn({email,password});\r\n            if(response.status >= 400){\r\n                toast.warning(response.data.message);\r\n                return ;\r\n            }\r\n            localStorage.setItem(\"accessToken\", response.data.accessToken);\r\n            const userJson = JSON.stringify(response.data.user);\r\n            localStorage.setItem(\"user\", userJson);\r\n            toast.success(response.data.message);\r\n            window.location.replace(\"/admin\");\r\n        } catch (error) {\r\n            console.log(error);\r\n            toast.error(\"500 Server not found\");\r\n        }\r\n    };\r\n\r\n    return ( \r\n        <main className={cx(\"loginMain\")}>\r\n            <section className={cx(\"container\")}>\r\n                <article className={cx(\"images\")}>\r\n                    <img src={images.Lovlyze} alt=\"lovlyze\"/>\r\n                </article>\r\n                <section className={cx(\"content\")}>\r\n                    <form action=\"/login\" method=\"post\">\r\n                        <Input \r\n                            name=\"Gmail\"\r\n                            type=\"email\"\r\n                            required\r\n                            title=\"gmail cannot be empty\"\r\n                            id=\"email\"\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                        <Input \r\n                            name=\"Password\"\r\n                            type=\"password\"\r\n                            required\r\n                            title=\"password cannot be empty\"\r\n                            id=\"password\"\r\n                            Icons = {true}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                        <Button\r\n                            name=\"Login\"\r\n                            onClick={handleLogin}\r\n                            width=\"30%\"\r\n                            height=\"15%\"\r\n                            margin=\"4% 35%\"\r\n                        />\r\n  \r\n                    </form>\r\n                </section>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}