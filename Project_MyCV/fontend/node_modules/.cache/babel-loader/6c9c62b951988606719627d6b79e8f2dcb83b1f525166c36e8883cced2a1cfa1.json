{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import{Document,Page,pdfjs}from'react-pdf';import classNames from\"classnames/bind\";import styles from\"./PDFViewer.module.scss\";import'react-pdf/dist/Page/AnnotationLayer.css';import'react-pdf/dist/Page/TextLayer.css';import Notification from\"../Notification\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const cx=classNames.bind(styles);pdfjs.GlobalWorkerOptions.workerSrc=\"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs.version,\"/pdf.worker.js\");function PDFViewer(_ref){let{name,value,Item=\"\"}=_ref;const[numPages,setNumPages]=useState(null);const[pageNumber,setPageNumber]=useState(1);const[pdfURL,setPdfURL]=useState(null);const fileInputRef=useRef(null);useEffect(()=>{if(Item===\"\"){setPdfURL(\"\");}else{setPdfURL(Item);}},[Item]);const handleButtonClick=()=>{fileInputRef.current.click();};const fileType=[\"application/pdf\"];const handleFileInputChange=e=>{let selectedFile=e.target.files[0];if(selectedFile&&fileType.includes(selectedFile.type)){value(selectedFile);let reader=new FileReader();reader.onload=()=>{setPdfURL(reader.result);};reader.readAsDataURL(selectedFile);}else{Notification(\"Please select pdf file\",\"warning\");}};return/*#__PURE__*/_jsxs(\"section\",{className:cx(\"wrapper\"),children:[/*#__PURE__*/_jsx(\"article\",{className:cx(\"show-file\"),children:pdfURL&&/*#__PURE__*/_jsx(Document,{file:pdfURL,onLoadSuccess:_ref2=>{let{numPages}=_ref2;return setNumPages(numPages);},children:/*#__PURE__*/_jsx(Page,{pageNumber:pageNumber})})}),/*#__PURE__*/_jsx(\"article\",{className:cx(\"input-file\"),children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleButtonClick,children:[\"Ch\\u1ECDn \",name,/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",name:name,onChange:e=>handleFileInputChange(e)})]})})]});}export default PDFViewer;","map":{"version":3,"names":["React","useState","useRef","useEffect","Document","Page","pdfjs","classNames","styles","Notification","jsx","_jsx","jsxs","_jsxs","cx","bind","GlobalWorkerOptions","workerSrc","concat","version","PDFViewer","_ref","name","value","Item","numPages","setNumPages","pageNumber","setPageNumber","pdfURL","setPdfURL","fileInputRef","handleButtonClick","current","click","fileType","handleFileInputChange","e","selectedFile","target","files","includes","type","reader","FileReader","onload","result","readAsDataURL","className","children","file","onLoadSuccess","_ref2","onClick","ref","onChange"],"sources":["D:/FPT Polytechnic/ListProject/projectCV/Project_MyCV/fontend/src/components/PDFViewer/index.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport classNames from \"classnames/bind\";\r\n\r\nimport styles from \"./PDFViewer.module.scss\";\r\nimport 'react-pdf/dist/Page/AnnotationLayer.css';\r\nimport 'react-pdf/dist/Page/TextLayer.css';\r\nimport Notification from \"../Notification\";\r\n\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nfunction PDFViewer({ name, value , Item=\"\"}) {\r\n    const [numPages, setNumPages] = useState(null);\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    const [pdfURL, setPdfURL] = useState(null);\r\n\r\n    const fileInputRef = useRef(null);\r\n    useEffect(() => {\r\n        if(Item === \"\"){\r\n            setPdfURL(\"\");\r\n        }else{\r\n            setPdfURL(Item)\r\n        }\r\n    }, [Item])\r\n\r\n    const handleButtonClick = () => {\r\n        fileInputRef.current.click();\r\n    };\r\n\r\n    const fileType = [\"application/pdf\"];\r\n\r\n    const handleFileInputChange = (e) => {\r\n        let selectedFile = e.target.files[0];\r\n        if (selectedFile && fileType.includes(selectedFile.type)) {\r\n            value(selectedFile);\r\n\r\n            let reader = new FileReader();\r\n            reader.onload = () => {\r\n                setPdfURL(reader.result);\r\n            };\r\n            reader.readAsDataURL(selectedFile);\r\n        }else{\r\n           Notification(\"Please select pdf file\", \"warning\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <section className={cx(\"wrapper\")}>\r\n            <article className={cx(\"show-file\")}>\r\n                {pdfURL && (\r\n                    <Document\r\n                        file={pdfURL}\r\n                        onLoadSuccess={({ numPages }) => setNumPages(numPages)}\r\n                    >\r\n                        <Page pageNumber={pageNumber} />\r\n                    </Document>\r\n                )}\r\n            </article>\r\n            <article className={cx(\"input-file\")}>\r\n                <button onClick={handleButtonClick}>\r\n                    Ch·ªçn {name}\r\n                    <input\r\n                        ref={fileInputRef}\r\n                        type=\"file\"\r\n                        name={name}\r\n                        onChange={(e) => handleFileInputChange(e)}\r\n                    />\r\n                </button>\r\n            </article>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PDFViewer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}