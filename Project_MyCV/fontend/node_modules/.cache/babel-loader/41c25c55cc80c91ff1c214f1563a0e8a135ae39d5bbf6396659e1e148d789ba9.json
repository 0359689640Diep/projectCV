{"ast":null,"code":"import classNames from\"classnames/bind\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import styles from\"../List/List.module.scss\";import Input from\"../../../../components/Input\";import MoreSkills from\"../Create/MoreSkills\";import{deleteSkill,updateSkill}from\"../../../../Services/skills\";import Notification from\"../../../../components/Notification\";import Button from\"../../../../components/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const cx=classNames.bind(styles);function Update(_ref){let{item,callAPI}=_ref;const[Skills,SetSkills]=useState(item.Skills);const[TitleSkills,SetTitleSkills]=useState(item.TitleSkills);const[ContentSkills,SetContentSkills]=useState(item.ContentSkills);const navigate=useNavigate();const handleDelete=async id=>{try{const result=await deleteSkill(id);Notification(result.data.message,\"success\");if(result.status===403){Notification(result.data.message,\"warning\");navigate(\"/login\");}else{callAPI();};}catch(error){console.log(error);Notification(\"The system is maintenance\",\"error\");}};const handleUpdate=async id=>{try{const data=localStorage.getItem(\"user\");const userId=JSON.parse(data)._id;const newData={\"IdAccount\":userId,TitleSkills,ContentSkills,\"Skills\":Skills};const result=await updateSkill(newData,id);if(result.status>=400){Notification(result.data.message,\"warning\");}else{Notification(result.data.message,\"success\");callAPI();};}catch(error){console.log(error);Notification(\"The system is maintenance\",\"error\");}};return/*#__PURE__*/_jsxs(\"section\",{className:cx(\"skills\"),children:[/*#__PURE__*/_jsx(Input,{name:\"Title Skills\",id:\"TitleSkills\",value:TitleSkills,onChange:e=>{SetTitleSkills(e.target.value);}}),/*#__PURE__*/_jsx(Input,{name:\"Content Skills\",id:\"ContentSkills\",value:ContentSkills,onChange:e=>{SetContentSkills(e.target.value);}}),/*#__PURE__*/_jsx(MoreSkills,{dataOnMore:SetSkills,value:Skills}),/*#__PURE__*/_jsx(Button,{name:\"Delete\",width:\"100px\",height:\"35px\",margin:\"20px\",onClick:()=>{handleDelete(item._id);}}),/*#__PURE__*/_jsx(Button,{name:\"Update\",width:\"100px\",height:\"35px\",margin:\"20px\",onClick:e=>{handleUpdate(item._id);}})]});}export default Update;","map":{"version":3,"names":["classNames","useState","useNavigate","styles","Input","MoreSkills","deleteSkill","updateSkill","Notification","Button","jsx","_jsx","jsxs","_jsxs","cx","bind","Update","_ref","item","callAPI","Skills","SetSkills","TitleSkills","SetTitleSkills","ContentSkills","SetContentSkills","navigate","handleDelete","id","result","data","message","status","error","console","log","handleUpdate","localStorage","getItem","userId","JSON","parse","_id","newData","className","children","name","value","onChange","e","target","dataOnMore","width","height","margin","onClick"],"sources":["D:/FPT Polytechnic/ListProject/projectCV/Project_MyCV/fontend/src/pages/admin/skills/Update/index.js"],"sourcesContent":["import classNames from \"classnames/bind\";\r\nimport {  useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport styles from \"../List/List.module.scss\";\r\nimport Input from \"../../../../components/Input\";\r\nimport MoreSkills from \"../Create/MoreSkills\";\r\nimport { deleteSkill, updateSkill } from \"../../../../Services/skills\";\r\nimport Notification from \"../../../../components/Notification\";\r\nimport Button from \"../../../../components/Button\";\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nfunction Update({item, callAPI}) {\r\n    const [Skills, SetSkills] = useState(item.Skills);\r\n    const [TitleSkills, SetTitleSkills] = useState(item.TitleSkills);\r\n    const [ContentSkills, SetContentSkills] = useState(item.ContentSkills);\r\n    const navigate = useNavigate();\r\n\r\n    const handleDelete = async (id) => {\r\n        try {\r\n            const result = await deleteSkill(id);\r\n           Notification(result.data.message, \"success\");\r\n            if(result.status === 403){\r\n                Notification(result.data.message, \"warning\");   \r\n                navigate(\"/login\");\r\n            }else{\r\n                callAPI();\r\n            };           \r\n        } catch (error) {\r\n            console.log(error);\r\n           Notification(\"The system is maintenance\", \"error\");\r\n        }\r\n    } \r\n    const handleUpdate = async (id) => {\r\n\r\n        try {\r\n            const data = localStorage.getItem(\"user\");\r\n            const userId = JSON.parse(data)._id;            \r\n            const newData = {\"IdAccount\": userId, TitleSkills, ContentSkills, \"Skills\": Skills};\r\n            const result = await  updateSkill(newData, id)\r\n            if(result.status >= 400){\r\n                Notification(result.data.message, \"warning\");\r\n            }else{\r\n                Notification(result.data.message, \"success\");\r\n                callAPI();\r\n            };\r\n        } catch (error) {\r\n            console.log(error);\r\n            Notification(\"The system is maintenance\", \"error\");\r\n        }\r\n    } \r\n    return(\r\n    <section  className={cx(\"skills\")}>\r\n        <Input\r\n            name=\"Title Skills\"\r\n            id=\"TitleSkills\"\r\n            value={TitleSkills}\r\n            onChange={(e) => {SetTitleSkills(e.target.value)}}\r\n        />\r\n        <Input\r\n            name=\"Content Skills\"\r\n            id=\"ContentSkills\"\r\n            value={ContentSkills}\r\n            onChange={(e) => {SetContentSkills(e.target.value)}}\r\n        />\r\n        <MoreSkills\r\n            dataOnMore={SetSkills}\r\n            value={Skills}\r\n        />\r\n        <Button\r\n            name=\"Delete\"\r\n            width=\"100px\"\r\n            height = \"35px\"\r\n            margin = \"20px\"\r\n            onClick={() => {handleDelete(item._id)}}\r\n        />\r\n        <Button\r\n            name=\"Update\"\r\n            width=\"100px\"\r\n            height = \"35px\"\r\n            margin = \"20px\"\r\n            onClick={(e) => {handleUpdate(item._id)}}\r\n        />\r\n    </section>\r\n    )\r\n}\r\n\r\nexport default Update;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}