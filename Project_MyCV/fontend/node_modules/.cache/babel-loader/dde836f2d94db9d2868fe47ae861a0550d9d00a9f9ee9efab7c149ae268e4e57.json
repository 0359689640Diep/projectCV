{"ast":null,"code":"import classNames from\"classnames/bind\";import{useNavigate}from\"react-router-dom\";import styles from\"../project.module.scss\";import Input from'./../../../../components/Input/index';import UploadImage from\"../../../../components/UploadImage\";import{useState}from\"react\";import More from\"../../../../components/More\";import Button from\"../../../../components/Button\";import{createProject}from\"../../../../Services/project\";import Notification from\"../../../../components/Notification\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const cx=classNames.bind(styles);function CreateProject(){const[Name,SetName]=useState(\"\");const[Introduce,SetIntroduce]=useState(\"\");const[LinkProject,SetLinkProject]=useState(\"\");const[Image,SetImage]=useState([]);const[Author,SetAuthor]=useState([]);const[Technology,SetTechnology]=useState([]);const[Task,SetTask]=useState([]);const[ObjectInProject,SetObjectInProject]=useState([]);const navigate=useNavigate();const handleCreateProjet=async()=>{const formData=new FormData();formData.append(\"Name\",Name);formData.append(\"Introduce\",Introduce);formData.append(\"LinkProject\",LinkProject);formData.append(\"Author\",Author);formData.append(\"Technology\",Technology);formData.append(\"Task\",Task);formData.append(\"ObjectInProject\",ObjectInProject);// Lặp qua từng phần tử trong object Image\nfor(const key in Image){if(Object.hasOwnProperty.call(Image,key)){const file=Image[key];formData.append(\"Image\",file);}}const result=await createProject(formData);if(result.status>=404){Notification(result.data.message,\"warning\");}else if(result.status===403){Notification(result.data.message,\"warning\");navigate(\"/login\");}else{Notification(result.data.message,\"success\");SetName(\"\");SetIntroduce(\"\");SetTask(\"\");SetLinkProject(\"\");SetImage(\"\");SetAuthor(\"\");SetTechnology(\"\");SetObjectInProject(\"\");};};return/*#__PURE__*/_jsxs(\"section\",{className:cx(\"warrper\"),children:[/*#__PURE__*/_jsx(Input,{name:\"Name\",type:\"text\",id:\"Name\",value:Name,onChange:e=>SetName(e.target.value)}),/*#__PURE__*/_jsx(Input,{name:\"Introduce\",type:\"text\",id:\"Introduce\",value:Introduce,onChange:e=>SetIntroduce(e.target.value)}),/*#__PURE__*/_jsx(Input,{name:\"Link Project\",type:\"text\",id:\"LinkProject\",value:LinkProject,onChange:e=>SetLinkProject(e.target.value)}),/*#__PURE__*/_jsx(UploadImage,{name:\"Image\",id:\"Image\",required:true,multiple:true,value:Image,onImageChange:SetImage}),/*#__PURE__*/_jsx(More,{name:\"Author\",id:\"Author\",type:\"text\",value:Author,dataOnMore:SetAuthor}),/*#__PURE__*/_jsx(More,{name:\"Task\",id:\"Task\",type:\"text\",value:Task,dataOnMore:SetTask}),/*#__PURE__*/_jsx(More,{name:\"Technology\",id:\"Technology\",type:\"text\",value:Technology,dataOnMore:SetTechnology}),/*#__PURE__*/_jsx(More,{name:\"Object In Project\",id:\"ObjectInProject\",type:\"text\",value:ObjectInProject,dataOnMore:SetObjectInProject}),/*#__PURE__*/_jsx(Button,{name:\"Create Project\",width:\"150px\",height:\"40px\",onClick:()=>{handleCreateProjet();}})]});}export default CreateProject;","map":{"version":3,"names":["classNames","useNavigate","styles","Input","UploadImage","useState","More","Button","createProject","Notification","jsx","_jsx","jsxs","_jsxs","cx","bind","CreateProject","Name","SetName","Introduce","SetIntroduce","LinkProject","SetLinkProject","Image","SetImage","Author","SetAuthor","Technology","SetTechnology","Task","SetTask","ObjectInProject","SetObjectInProject","navigate","handleCreateProjet","formData","FormData","append","key","Object","hasOwnProperty","call","file","result","status","data","message","className","children","name","type","id","value","onChange","e","target","required","multiple","onImageChange","dataOnMore","width","height","onClick"],"sources":["D:/FPT Polytechnic/ListProject/projectCV/Project_MyCV/fontend/src/pages/admin/project/CreateProject/index.js"],"sourcesContent":["import classNames from \"classnames/bind\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport styles from \"../project.module.scss\";\r\nimport Input from './../../../../components/Input/index';\r\nimport UploadImage from \"../../../../components/UploadImage\";\r\nimport { useState } from \"react\";\r\nimport More from \"../../../../components/More\";\r\nimport Button from \"../../../../components/Button\";\r\nimport { createProject } from \"../../../../Services/project\";\r\nimport Notification from \"../../../../components/Notification\";\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nfunction CreateProject() {\r\n    \r\n    const [Name, SetName] = useState(\"\");\r\n    const [Introduce, SetIntroduce] = useState(\"\");\r\n    const [LinkProject, SetLinkProject] = useState(\"\");\r\n    const [Image, SetImage] = useState([]);\r\n    const [Author, SetAuthor] = useState([]);\r\n    const [Technology, SetTechnology] = useState([]);\r\n    const [Task, SetTask] = useState([]);\r\n    const [ObjectInProject, SetObjectInProject] = useState([]);\r\n    const navigate = useNavigate()\r\n\r\n    const handleCreateProjet = async () => {\r\n\r\n        const formData = new FormData();\r\n\r\n        formData.append(\"Name\", Name);\r\n        formData.append(\"Introduce\", Introduce);\r\n        formData.append(\"LinkProject\", LinkProject);\r\n        formData.append(\"Author\", Author);\r\n        formData.append(\"Technology\", Technology);\r\n        formData.append(\"Task\", Task);\r\n        formData.append(\"ObjectInProject\", ObjectInProject);\r\n\r\n\r\n        // Lặp qua từng phần tử trong object Image\r\n        for (const key in Image) {\r\n            if (Object.hasOwnProperty.call(Image, key)) {\r\n                const file = Image[key];\r\n                formData.append(\"Image\", file);\r\n            }\r\n        }\r\n\r\n        const result = await createProject(formData);\r\n\r\n        if(result.status >= 404){\r\n            Notification(result.data.message, \"warning\");\r\n        }else if(result.status === 403){\r\n\r\n                Notification(result.data.message, \"warning\");     \r\n                navigate(\"/login\");\r\n        }\r\n        else{\r\n            Notification(result.data.message, \"success\");\r\n            \r\n            SetName(\"\");\r\n            SetIntroduce(\"\");\r\n            SetTask(\"\");\r\n            SetLinkProject(\"\");\r\n            SetImage(\"\");\r\n            SetAuthor(\"\");\r\n            SetTechnology(\"\");\r\n            SetObjectInProject(\"\");\r\n        };\r\n    }\r\n\r\n    return (\r\n        <section className={cx(\"warrper\")}>\r\n            <Input\r\n                name=\"Name\"\r\n                type=\"text\"\r\n                id=\"Name\"\r\n                value={Name}\r\n                onChange={(e) => (SetName(e.target.value))}\r\n            />\r\n            <Input\r\n                name=\"Introduce\"\r\n                type=\"text\"\r\n                id=\"Introduce\"\r\n                value={Introduce}\r\n                onChange={(e) => (SetIntroduce(e.target.value))}\r\n            />\r\n            <Input\r\n                name=\"Link Project\"\r\n                type=\"text\"\r\n                id=\"LinkProject\"\r\n                value={LinkProject}\r\n                onChange={(e) => (SetLinkProject(e.target.value))}\r\n            />\r\n            <UploadImage\r\n                name=\"Image\"\r\n                id=\"Image\"\r\n                required={true}\r\n                multiple={true}\r\n                value={Image}\r\n                onImageChange={SetImage}\r\n            />\r\n            <More\r\n                name=\"Author\"\r\n                id=\"Author\"\r\n                type=\"text\"\r\n                value={Author}\r\n                dataOnMore={SetAuthor}\r\n            />\r\n            <More\r\n                name=\"Task\"\r\n                id=\"Task\"\r\n                type=\"text\"\r\n                value={Task}\r\n                dataOnMore={SetTask}\r\n            />\r\n            <More\r\n                name=\"Technology\"\r\n                id=\"Technology\"\r\n                type=\"text\"\r\n                value={Technology}\r\n                dataOnMore={SetTechnology}\r\n            />\r\n            <More\r\n                name=\"Object In Project\"\r\n                id=\"ObjectInProject\"\r\n                type=\"text\"\r\n                value={ObjectInProject}\r\n                dataOnMore={SetObjectInProject}\r\n            />\r\n            <Button\r\n                name=\"Create Project\"\r\n                width = \"150px\"\r\n                height = \"40px\"\r\n                onClick={() => {handleCreateProjet()}}\r\n            />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default CreateProject;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}