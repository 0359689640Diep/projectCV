{"ast":null,"code":"var _jsxFileName = \"E:\\\\FPT Polytechnic\\\\ListProject\\\\Project_MyCV\\\\fontend\\\\src\\\\components\\\\UploadImage\\\\index.js\",\n  _s = $RefreshSig$();\nimport { useRef, useState, useEffect } from \"react\";\nimport classNames from \"classnames/bind\";\nimport style from \"./UploadImage.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cx = classNames.bind(style);\nfunction UploadImage({\n  item,\n  name,\n  id,\n  required = false,\n  multiple = false\n}) {\n  _s();\n  const fileInputRef = useRef(null);\n  const [images, setImages] = useState([]);\n\n  // Sử dụng useEffect để cập nhật ảnh khi nhận được một danh sách ảnh mới từ bên ngoài\n  useEffect(() => {\n    if (item) {\n      setImages(Array.isArray(item) ? item : [item]);\n    }\n  }, [item]);\n\n  // Hàm xử lý khi có sự thay đổi trên thẻ input (đã chọn file)\n  const handleFileInputChange = () => {\n    const selectedFiles = fileInputRef.current.files;\n    const newImages = Array.from(selectedFiles).map(file => ({\n      file: file,\n      preview: URL.createObjectURL(file)\n    }));\n    setImages([...images, ...newImages]);\n  };\n\n  // Hàm xử lý khi xóa một ảnh từ danh sách\n  const handleRemoveImage = image => {\n    URL.revokeObjectURL(image.preview);\n    setImages(images.filter(img => img !== image));\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: cx(\"wrapper\"),\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: cx(\"content\"),\n      children: [/*#__PURE__*/_jsxDEV(\"article\", {\n        className: cx(\"images\"),\n        children: images.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: image.preview,\n            alt: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleRemoveImage(image),\n            children: \"X\\xF3a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 29\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        className: cx(\"item\"),\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fileInputRef.current.click(),\n          children: [\"Ch\\u1ECDn \", name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: fileInputRef,\n          type: \"file\",\n          name: name,\n          id: id,\n          required: required,\n          multiple: multiple,\n          onChange: handleFileInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n_s(UploadImage, \"CU3HuWunMCaZvcQmF8ehzk8bT6E=\");\n_c = UploadImage;\nexport default UploadImage;\nvar _c;\n$RefreshReg$(_c, \"UploadImage\");","map":{"version":3,"names":["useRef","useState","useEffect","classNames","style","jsxDEV","_jsxDEV","cx","bind","UploadImage","item","name","id","required","multiple","_s","fileInputRef","images","setImages","Array","isArray","handleFileInputChange","selectedFiles","current","files","newImages","from","map","file","preview","URL","createObjectURL","handleRemoveImage","image","revokeObjectURL","filter","img","className","children","index","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","click","ref","type","onChange","_c","$RefreshReg$"],"sources":["E:/FPT Polytechnic/ListProject/Project_MyCV/fontend/src/components/UploadImage/index.js"],"sourcesContent":["    import { useRef, useState, useEffect } from \"react\";\r\n    import classNames from \"classnames/bind\";\r\n    import style from \"./UploadImage.module.scss\";\r\n\r\n    const cx = classNames.bind(style);\r\n\r\nfunction UploadImage({ item, name, id, required = false, multiple = false }) {\r\n    const fileInputRef = useRef(null);\r\n    const [images, setImages] = useState([]);\r\n\r\n    // Sử dụng useEffect để cập nhật ảnh khi nhận được một danh sách ảnh mới từ bên ngoài\r\n    useEffect(() => {\r\n        if (item) {\r\n            setImages(Array.isArray(item) ? item : [item]);\r\n        }\r\n    }, [item]);\r\n\r\n    // Hàm xử lý khi có sự thay đổi trên thẻ input (đã chọn file)\r\n    const handleFileInputChange = () => {\r\n        const selectedFiles = fileInputRef.current.files;\r\n        const newImages = Array.from(selectedFiles).map(file => ({\r\n            file: file,\r\n            preview: URL.createObjectURL(file)\r\n        }));\r\n        setImages([...images, ...newImages]);\r\n    };\r\n\r\n    // Hàm xử lý khi xóa một ảnh từ danh sách\r\n    const handleRemoveImage = (image) => {\r\n        URL.revokeObjectURL(image.preview);\r\n        setImages(images.filter((img) => img !== image));\r\n    };\r\n\r\n    return (\r\n        <section className={cx(\"wrapper\")}>\r\n            <section className={cx(\"content\")}>\r\n                <article className={cx(\"images\")}>\r\n                    {/* Hiển thị danh sách ảnh */}\r\n                    {images.map((image, index) => (\r\n                        <div key={index}>\r\n                            <img src={image.preview} alt=\"Image\" />\r\n                            <button onClick={() => handleRemoveImage(image)}>Xóa</button>\r\n                        </div>\r\n                    ))}\r\n                </article>\r\n                <article className={cx(\"item\")}>\r\n                    <button onClick={() => fileInputRef.current.click()}>\r\n                        Chọn {name}\r\n                    </button>\r\n                    {/* Thêm ref vào thẻ input để tham chiếu đến nó */}\r\n                    <input\r\n                        ref={fileInputRef}\r\n                        type=\"file\"\r\n                        name={name}\r\n                        id={id}\r\n                        required={required}\r\n                        multiple={multiple}\r\n                        onChange={handleFileInputChange}\r\n                    />\r\n                </article>\r\n            </section>\r\n        </section>\r\n    );\r\n}\r\n\r\n    export default UploadImage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}